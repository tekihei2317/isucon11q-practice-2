
# 3.1s user time, 40ms system time, 34.66M rss, 41.93M vsz
# Current date: Wed Jul 20 06:12:50 2022
# Hostname: ip-172-31-36-52
# Files: /var/log/mysql/mariadb-slow.log
# Overall: 34.36k total, 65 unique, 520.55 QPS, 0.51x concurrency ________
# Time range: 2022-07-20 06:03:45 to 06:04:51
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time            33s     1us    84ms   970us     5ms     2ms    42us
# Lock time             1s       0    13ms    34us    98us   148us       0
# Rows sent        947.77k       0   1.16k   28.25  158.58  123.92    0.99
# Rows examine     933.31k       0   1.16k   27.82  158.58  124.06       0
# Rows affecte      53.39k       0     618    1.59    9.83    4.79       0
# Bytes sent       393.96M       0 309.42k  11.74k  88.02k  33.32k   56.92
# Query size        14.96M       6 790.36k  456.49   1.69k   4.93k  118.34
# Boolean:
# QC hit        49% yes,  50% no

# Profile
# Rank Query ID                      Response time Calls R/Call V/M   Item
# ==== ============================= ============= ===== ====== ===== ====
#    1 0xB8B32624C3268C0925657C30... 23.2172 69.6%  5392 0.0043  0.00 INSERT isu_condition
#    2 0x9C6C682008AE0D08F3E2A004...  4.5704 13.7%  1579 0.0029  0.01 SELECT isu_condition
#    3 0x5F580A12ADA1633C9634298B...  2.2362  6.7%   582 0.0038  0.00 SELECT isu_condition
#    4 0xAC9E2250E1642BFE9823A9B9...  1.4230  4.3%  5487 0.0003  0.00 SELECT isu_condition
#    5 0x8155B89FFD74A9D523D19AC4...  0.3990  1.2%  1572 0.0003  0.00 SELECT isu_condition
# MISC 0xMISC                         1.4919  4.5% 19744 0.0001   0.0 <60 ITEMS>

# Query 1: 89.87 QPS, 0.39x concurrency, ID 0xB8B32624C3268C0925657C305C0ED778 at byte 23472742
# Scores: V/M = 0.00
# Time range: 2022-07-20 06:03:51 to 06:04:51
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         15    5392
# Exec time     69     23s   873us    44ms     4ms     9ms     3ms     3ms
# Lock time     52   615ms    40us     6ms   114us   131us   199us    89us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Rows affecte  98  52.65k       8      10   10.00    9.83    0.05    9.83
# Bytes sent     0 279.07k      52      53   53.00   51.63       0   51.63
# Query size    59   8.89M   1.30k   2.13k   1.69k   1.78k  123.85   1.61k
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  #
#   1ms  ################################################################
#  10ms  ##
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
INSERT INTO `isu_condition`	(`jia_isu_uuid`, `timestamp`, `is_sitting`, `condition`, `message`)	VALUES ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 03:57:32.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 03:58:35.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 03:59:28.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 04:00:31.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 04:01:32.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 04:02:27.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 04:03:34.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 04:04:33.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 04:05:31.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜'), ('4ad9382a-0302-466d-874c-1ef556331389', '2021-08-30 04:06:28.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', 'なんとかしてくれると嬉しいです〜')\G

# Query 2: 25.89 QPS, 0.07x concurrency, ID 0x9C6C682008AE0D08F3E2A0049B030C70 at byte 23824862
# Scores: V/M = 0.01
# Time range: 2022-07-20 06:03:50 to 06:04:51
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4    1579
# Exec time     13      5s   134us    55ms     3ms    10ms     4ms     2ms
# Lock time      7    89ms    21us     8ms    56us    76us   192us    40us
# Rows sent     60 570.54k       0   1.16k  370.01  833.10  254.39  329.68
# Rows examine  61 570.54k       0   1.16k  370.01  833.10  254.39  329.68
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent    25  98.79M     589 217.18k  64.07k 143.37k  44.20k  56.74k
# Query size     1 248.26k     161     161     161     161       0     161
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  #################################
#   1ms  ################################################################
#  10ms  #####
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '230aebfa-b253-4050-944f-e1b11c0f7f85'	AND `timestamp` < '2021-08-27 07:29:47.000'	ORDER BY `timestamp` DESC\G

# Query 3: 9.54 QPS, 0.04x concurrency, ID 0x5F580A12ADA1633C9634298BE5BD9422 at byte 17152082
# Scores: V/M = 0.00
# Time range: 2022-07-20 06:03:50 to 06:04:51
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1     582
# Exec time      6      2s    17us    32ms     4ms    12ms     4ms     2ms
# Lock time      2    26ms       0     2ms    44us    63us    87us    36us
# Rows sent     36 346.71k       6   1.06k  610.03  964.41  259.90  652.75
# Rows examine  37 346.36k       0   1.06k  609.40  964.41  261.20  652.75
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent    15  59.84M   1.60k 178.94k 105.29k 158.07k  44.06k 112.33k
# Query size     0  65.93k     116     116     116     116       0     116
# Boolean:
# QC hit         1% yes,  98% no
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  #########
#   1ms  ################################################################
#  10ms  ######
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '613543d3-e0cf-4c5d-8530-b1fe33c016c8' ORDER BY `timestamp` ASC\G

# Query 4: 89.95 QPS, 0.02x concurrency, ID 0xAC9E2250E1642BFE9823A9B9ECA1A419 at byte 23833572
# Scores: V/M = 0.00
# Time range: 2022-07-20 06:03:50 to 06:04:51
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         15    5487
# Exec time      4      1s     9us    26ms   259us   366us   778us   159us
# Lock time     22   261ms       0     4ms    47us    73us    96us    40us
# Rows sent      0   5.34k       0       1    1.00    0.99    0.05    0.99
# Rows examine   0   4.96k       0       1    0.92    0.99    0.26    0.99
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     1   4.00M     589     812  763.72  755.64   19.13  755.64
# Query size     4 659.08k     123     123     123     123       0     123
# Boolean:
# QC hit         7% yes,  92% no
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us  #
#  10us  #####
# 100us  ################################################################
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = 'a06a97c8-b55f-4c77-880b-9ee040c9e023' ORDER BY timestamp DESC limit 1\G

# Query 5: 25.77 QPS, 0.01x concurrency, ID 0x8155B89FFD74A9D523D19AC409FD97AF at byte 3898413
# Scores: V/M = 0.00
# Time range: 2022-07-20 06:03:50 to 06:04:51
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4    1572
# Exec time      1   399ms    89us    15ms   253us   273us   772us   144us
# Lock time      7    84ms    18us    13ms    53us    63us   347us    36us
# Rows sent      0   1.53k       0       1    1.00    0.99    0.06    0.99
# Rows examine   0   1.53k       0       1    1.00    0.99    0.06    0.99
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     0   1.15M     589     812  765.95  755.64   19.53  755.64
# Query size     1 191.89k     125     125     125     125       0     125
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = 'e904b983-63a3-4ada-bde6-f0805028bea0' ORDER BY `timestamp` DESC LIMIT 1\G
