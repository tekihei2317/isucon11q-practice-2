
# 3.1s user time, 30ms system time, 35.02M rss, 42.19M vsz
# Current date: Thu Jul 21 10:05:26 2022
# Hostname: ip-172-31-36-52
# Files: /var/log/mysql/mariadb-slow.log
# Overall: 34.27k total, 65 unique, 519.29 QPS, 0.53x concurrency ________
# Time range: 2022-07-21 09:28:23 to 09:29:29
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time            35s       0    85ms     1ms     5ms     2ms    98us
# Lock time             1s       0    16ms    36us    93us   218us       0
# Rows sent          1.03M       0   1.15k   31.59  212.52  132.63    0.99
# Rows examine       1.02M       0   1.15k   31.15  212.52  132.76       0
# Rows affecte      53.68k       0     618    1.60    9.83    4.80       0
# Bytes sent       413.58M       0 276.44k  12.36k  97.04k  35.64k   56.92
# Query size        15.06M       6 790.36k  460.85   1.69k   4.93k  118.34
# Boolean:
# QC hit        43% yes,  56% no

# Profile
# Rank Query ID                      Response time Calls R/Call V/M   Item
# ==== ============================= ============= ===== ====== ===== ====
#    1 0xB8B32624C3268C0925657C30... 24.6066 70.1%  5423 0.0045  0.00 INSERT isu_condition
#    2 0x9C6C682008AE0D08F3E2A004...  5.0473 14.4%  1756 0.0029  0.00 SELECT isu_condition
#    3 0x5F580A12ADA1633C9634298B...  2.3594  6.7%   622 0.0038  0.01 SELECT isu_condition
#    4 0xAC9E2250E1642BFE9823A9B9...  1.2805  3.6%  6360 0.0002  0.00 SELECT isu_condition
#    5 0x8155B89FFD74A9D523D19AC4...  0.4133  1.2%  1925 0.0002  0.00 SELECT isu_condition
# MISC 0xMISC                         1.3983  4.0% 18187 0.0001   0.0 <60 ITEMS>

# Query 1: 90.38 QPS, 0.41x concurrency, ID 0xB8B32624C3268C0925657C305C0ED778 at byte 3662056
# Scores: V/M = 0.00
# Time range: 2022-07-21 09:28:29 to 09:29:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         15    5423
# Exec time     70     25s   791us    56ms     5ms    10ms     3ms     4ms
# Lock time     47   583ms    40us    15ms   107us   125us   247us    84us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Rows affecte  98  52.93k       4      10   10.00    9.83    0.13    9.83
# Bytes sent     0 280.67k      52      53   53.00   51.63       0   51.63
# Query size    59   9.01M     681   2.13k   1.70k   1.86k  145.63   1.69k
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  #
#   1ms  ################################################################
#  10ms  ###
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
INSERT INTO `isu_condition`	(`jia_isu_uuid`, `timestamp`, `is_sitting`, `condition`, `message`)	VALUES ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:19:54.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:20:54.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:21:44.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:22:50.000', true, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:23:49.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:24:51.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:25:47.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:26:44.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:27:45.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！'), ('5713e247-ba1b-4b52-bdda-16668ca68a6c', '2021-08-10 13:28:48.000', false, 'is_dirty=false,is_overweight=false,is_broken=false', 'いい感じ！')\G

# Query 2: 28.79 QPS, 0.08x concurrency, ID 0x9C6C682008AE0D08F3E2A0049B030C70 at byte 19209984
# Scores: V/M = 0.00
# Time range: 2022-07-21 09:28:28 to 09:29:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5    1756
# Exec time     14      5s   132us    34ms     3ms    10ms     4ms     2ms
# Lock time     10   132ms    19us    16ms    75us    66us   530us    36us
# Rows sent     61 652.71k       0   1.13k  380.63  833.10  256.31  329.68
# Rows examine  62 652.71k       0   1.13k  380.63  833.10  256.31  329.68
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent    27 113.78M     589 199.04k  66.35k 143.37k  44.54k  56.74k
# Query size     1 276.09k     161     161     161     161       0     161
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################
#   1ms  ################################################################
#  10ms  #####
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '199f8546-92e4-4dca-8845-5d8e4c3c8fbc'	AND `timestamp` < '2021-08-24 23:50:07.000'	ORDER BY `timestamp` DESC\G

# Query 3: 10.20 QPS, 0.04x concurrency, ID 0x5F580A12ADA1633C9634298BE5BD9422 at byte 21024988
# Scores: V/M = 0.01
# Time range: 2022-07-21 09:28:28 to 09:29:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1     622
# Exec time      6      2s    17us    44ms     4ms    12ms     4ms     2ms
# Lock time      3    39ms       0    13ms    61us    60us   516us    33us
# Rows sent     35 373.45k       6   1.15k  614.81   1.04k  298.23  592.07
# Rows examine  35 373.09k       0   1.15k  614.22   1.04k  299.30  592.07
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent    15  65.17M   1.60k 202.40k 107.29k 182.98k  52.27k 101.89k
# Query size     0  70.46k     116     116     116     116       0     116
# Boolean:
# QC hit         0% yes,  99% no
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  #############
#   1ms  ################################################################
#  10ms  ######
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '13acbfb3-671a-4cef-b663-907b0b868b59' ORDER BY `timestamp` ASC\G

# Query 4: 113.57 QPS, 0.02x concurrency, ID 0xAC9E2250E1642BFE9823A9B9ECA1A419 at byte 15527085
# Scores: V/M = 0.00
# Time range: 2022-07-21 09:28:28 to 09:29:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         18    6360
# Exec time      3      1s     8us    16ms   201us   287us   423us   144us
# Lock time     23   290ms       0    12ms    45us    63us   177us    33us
# Rows sent      0   6.20k       0       1    1.00    0.99    0.04    0.99
# Rows examine   0   5.95k       0       1    0.96    0.99    0.20    0.99
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     1   4.64M     589     812  764.79  755.64   18.50  755.64
# Query size     4 763.95k     123     123     123     123       0     123
# Boolean:
# QC hit         4% yes,  95% no
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us  #
#  10us  ###
# 100us  ################################################################
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '4f772c6e-bb17-42b3-b336-37180556dbdf' ORDER BY timestamp DESC limit 1\G

# Query 5: 31.56 QPS, 0.01x concurrency, ID 0x8155B89FFD74A9D523D19AC409FD97AF at byte 22379082
# Scores: V/M = 0.00
# Time range: 2022-07-21 09:28:28 to 09:29:29
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5    1925
# Exec time      1   413ms    65us    12ms   214us   247us   571us   131us
# Lock time      7    99ms    16us     7ms    51us    54us   260us    31us
# Rows sent      0   1.87k       0       1    0.99    0.99    0.07    0.99
# Rows examine   0   1.87k       0       1    0.99    0.99    0.07    0.99
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     0   1.41M     589     812  766.68  755.64   21.76  755.64
# Query size     1 234.99k     125     125     125     125       0     125
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '2e73d877-cce1-40c6-9b6e-c8cd741be8c7' ORDER BY `timestamp` DESC LIMIT 1\G
