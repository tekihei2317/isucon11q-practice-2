
# 3.8s user time, 10ms system time, 34.64M rss, 41.95M vsz
# Current date: Tue Jul 19 21:12:21 2022
# Hostname: ip-172-31-36-52
# Files: /var/log/mysql/mariadb-slow.log
# Overall: 42.88k total, 65 unique, 649.74 QPS, 0.28x concurrency ________
# Time range: 2022-07-19 21:10:38 to 21:11:44
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time            19s     1us    91ms   436us     3ms     1ms   119us
# Lock time             1s       0    33ms    27us    89us   295us    27us
# Rows sent        460.65k       0     710   11.00    6.98   57.20    0.99
# Rows examine     446.35k       0     710   10.66    0.99   57.49       0
# Rows affecte      31.93k       0     618    0.76    9.83    3.85       0
# Bytes sent       606.09M       0 260.38k  14.47k 101.89k  37.09k  755.64
# Query size        12.81M       6 790.36k  313.15   1.61k   4.49k  118.34
# Boolean:
# QC hit        41% yes,  58% no

# Profile
# Rank Query ID                      Response time Calls R/Call V/M   Item
# ==== ============================= ============= ===== ====== ===== ====
#    1 0xB8B32624C3268C0925657C30... 12.2002 65.2%  3193 0.0038  0.00 INSERT isu_condition
#    2 0xAC9E2250E1642BFE9823A9B9...  2.9252 15.6% 16589 0.0002  0.00 SELECT isu_condition
#    3 0x9C6C682008AE0D08F3E2A004...  1.0090  5.4%  1009 0.0010  0.00 SELECT isu_condition
#    4 0x5F580A12ADA1633C9634298B...  0.8643  4.6%   605 0.0014  0.00 SELECT isu_condition
#    5 0x8C2BC651CBBBF3DB41D1CAD6...  0.4061  2.2%  5325 0.0001  0.00 SELECT isu
#    6 0x8155B89FFD74A9D523D19AC4...  0.2215  1.2%  1554 0.0001  0.00 SELECT isu_condition
#    7 0xFFFCA4D67EA0A788813031B8...  0.2178  1.2%   931 0.0002  0.00 COMMIT
# MISC 0xMISC                         0.8707  4.7% 13677 0.0001   0.0 <58 ITEMS>

# Query 1: 53.22 QPS, 0.20x concurrency, ID 0xB8B32624C3268C0925657C305C0ED778 at byte 12383496
# Scores: V/M = 0.00
# Time range: 2022-07-19 21:10:44 to 21:11:44
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          7    3193
# Exec time     65     12s     1ms    44ms     4ms     7ms     2ms     3ms
# Lock time     30   367ms    59us    33ms   114us   125us   695us    89us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Rows affecte  97  31.18k      10      10      10      10       0      10
# Bytes sent     0 165.26k      53      53      53      53       0      53
# Query size    41   5.35M   1.46k   2.13k   1.71k   1.78k  114.77   1.69k
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
INSERT INTO `isu_condition`	(`jia_isu_uuid`, `timestamp`, `is_sitting`, `condition`, `message`)	VALUES ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:19:49.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:20:47.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:21:49.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:22:46.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:23:40.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:24:42.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:25:40.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:26:50.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:27:43.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。'), ('8e0490a6-e837-413c-8784-8d459b670fab', '2021-08-18 07:28:48.000', true, 'is_dirty=true,is_overweight=true,is_broken=true', '改善を希望します。')\G

# Query 2: 276.48 QPS, 0.05x concurrency, ID 0xAC9E2250E1642BFE9823A9B9ECA1A419 at byte 12377411
# Scores: V/M = 0.00
# Time range: 2022-07-19 21:10:44 to 21:11:44
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         38   16589
# Exec time     15      3s     9us    32ms   176us   287us   481us   138us
# Lock time     51   620ms       0    32ms    37us    44us   355us    31us
# Rows sent      3  16.16k       0       1    1.00    0.99    0.05    0.99
# Rows examine   3  14.66k       0       1    0.90    0.99    0.29    0.99
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     1  12.12M     589     812  765.94  755.64   17.03  755.64
# Query size    15   1.95M     123     123     123     123       0     123
# Boolean:
# QC hit         9% yes,  90% no
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us  #
#  10us  ######
# 100us  ################################################################
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = 'ea78c8f4-3b61-4f59-a5e3-2be4d5cc9d00' ORDER BY timestamp DESC limit 1\G

# Query 3: 16.54 QPS, 0.02x concurrency, ID 0x9C6C682008AE0D08F3E2A0049B030C70 at byte 9689607
# Scores: V/M = 0.00
# Time range: 2022-07-19 21:10:43 to 21:11:44
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2    1009
# Exec time      5      1s   144us     7ms     1ms     2ms   664us   839us
# Lock time      3    42ms    22us    93us    41us    60us     9us    36us
# Rows sent     43 201.69k       0     650  204.69  463.90  142.15  174.84
# Rows examine  45 201.69k       0     650  204.69  463.90  142.15  174.84
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     5  36.04M     589 120.17k  36.57k  83.83k  25.52k  31.59k
# Query size     1 158.64k     161     161     161     161       0     161
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = 'bcc6126a-503f-41e4-b05f-7caeedca893a'	AND `timestamp` < '2021-08-13 07:18:01.000'	ORDER BY `timestamp` DESC\G

# Query 4: 9.92 QPS, 0.01x concurrency, ID 0x5F580A12ADA1633C9634298BE5BD9422 at byte 23611711
# Scores: V/M = 0.00
# Time range: 2022-07-19 21:10:43 to 21:11:44
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1     605
# Exec time      4   864ms    15us     8ms     1ms     2ms   735us     1ms
# Lock time      1    22ms       0    84us    36us    54us     9us    31us
# Rows sent     44 206.84k       6     710  350.09  563.87  154.54  363.48
# Rows examine  46 206.48k       0     710  349.48  563.87  155.69  363.48
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     6  36.88M   1.62k 129.72k  62.41k 101.89k  28.04k  65.68k
# Query size     0  68.54k     116     116     116     116       0     116
# Boolean:
# QC hit         0% yes,  99% no
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ######################
#   1ms  ################################################################
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '6c000001-09f1-4643-a123-fa096d251cd9' ORDER BY `timestamp` ASC\G

# Query 5: 88.75 QPS, 0.01x concurrency, ID 0x8C2BC651CBBBF3DB41D1CAD61AA0BD68 at byte 15641277
# Scores: V/M = 0.00
# Time range: 2022-07-19 21:10:44 to 21:11:44
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         12    5325
# Exec time      2   406ms    12us    13ms    76us   247us   240us    38us
# Lock time      0     9ms       0    62us     1us    23us     6us       0
# Rows sent      3  16.20k       1       7    3.12    5.75    1.57    2.90
# Rows examine   3  17.47k       0      82    3.36   31.70   13.85       0
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent    68 417.90M   5.47k 260.38k  80.36k 192.13k  60.48k  59.57k
# Query size     2 282.68k      51      57   54.36   56.92    2.95   51.63
# Boolean:
# QC hit        93% yes,   6% no
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ######
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu'\G
#    SHOW CREATE TABLE `isucondition`.`isu`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu` WHERE `character` = 'ようき'\G

# Query 6: 25.48 QPS, 0.00x concurrency, ID 0x8155B89FFD74A9D523D19AC409FD97AF at byte 12370251
# Scores: V/M = 0.00
# Time range: 2022-07-19 21:10:43 to 21:11:44
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3    1554
# Exec time      1   222ms    90us     7ms   142us   176us   185us   125us
# Lock time      4    59ms    16us     6ms    37us    47us   156us    30us
# Rows sent      0   1.51k       0       1    0.99    0.99    0.08    0.99
# Rows examine   0   1.51k       0       1    0.99    0.99    0.08    0.99
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     0   1.14M     589     812  767.66  755.64   19.67  755.64
# Query size     1 189.70k     125     125     125     125       0     125
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  #
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucondition` LIKE 'isu_condition'\G
#    SHOW CREATE TABLE `isucondition`.`isu_condition`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `isu_condition` WHERE `jia_isu_uuid` = '3faadfaa-3ddd-4457-83ab-0a5b6388acb6' ORDER BY `timestamp` DESC LIMIT 1\G

# Query 7: 15.26 QPS, 0.00x concurrency, ID 0xFFFCA4D67EA0A788813031B8BBC3B329 at byte 3782761
# Scores: V/M = 0.00
# Time range: 2022-07-19 21:10:43 to 21:11:44
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2     931
# Exec time      1   218ms     7us    16ms   233us     2ms   978us    19us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Rows affecte   0       0       0       0       0       0       0       0
# Bytes sent     0  10.00k      11      11      11      11       0      11
# Query size     0   5.46k       6       6       6       6       0       6
# String:
# Databases    isucondition
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us  #
#  10us  ################################################################
# 100us  #
#   1ms  ###
#  10ms  #
# 100ms
#    1s
#  10s+
COMMIT\G
